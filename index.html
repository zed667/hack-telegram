<!DOCTYPE html>
<html lang="fa" dir="rtl">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ZED EXE | HACK TELEGRAM</title>
  <link href="https://cdn.jsdelivr.net/npm/vazirmatn@33.003/font-face.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <meta name="description"
    content="ZED EXE | HACK TELEGRAM" />
  <style>
    :root {
      --bg: #0b0b0b;
      --panel: #121212;
      --text: #e6e6e6;
      --accent: #00f4ff;
      --accent-2: #00ff95;
      --muted: #9aa0a6;
      --danger: #ff5252;
      --border: #00f4ff33;
    }

    [data-theme="light"] {
      --bg: #ffffff;
      --panel: #ffffff;
      --text: #000000;
      --accent: #00a3b0;
      --accent-2: #00ff95;
      --muted: #000000;
      --danger: #e11d48;
      --border: #00a3b033;
    }

    * {
      box-sizing: border-box;
    }

    html,
    body {
      height: 100%;
    }

    body {
      margin: 0;
      font-family: Vazirmatn, Tahoma, sans-serif;
      background: radial-gradient(1200px 600px at 50% -200px, #08363a44, transparent), linear-gradient(90deg, var(--bg), 60%, var(--bg));
      color: var(--text);
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
    }

    .app {
      width: 100%;
      max-width: 860px;
      padding: 20px;
    }

    .topbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 16px;
      gap: 10px;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo {
      width: 36px;
      height: 36px;
      border-radius: 10px;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      display: grid;
      place-items: center;
      color: #000;
      font-weight: 900;
      box-shadow: 0 10px 30px #00f4ff40;
    }

    .title {
      font-size: 18px;
      font-weight: 800;
      letter-spacing: .3px;
    }

    .subtitle {
      color: var(--muted);
      font-size: 12px;
    }

    .actions {
      display: flex;
      gap: 8px;
    }

    .btn {
      background: var(--accent);
      color: #032d2f;
      border: none;
      border-radius: 12px;
      padding: 10px 14px;
      cursor: pointer;
      font-weight: 700;
      transition: transform .12s ease, filter .2s ease;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .btn.secondary {
      background: transparent;
      color: var(--text);
      border: 1px solid var(--border);
    }

    .btn:hover {
      transform: translateY(-1px);
      filter: saturate(1.1);
    }

    .grid {
      display: grid;
      gap: 16px;
      grid-template-columns: 1fr 1fr;
      align-items: start;
    }

    @media (max-width: 840px) {
      .grid {
        grid-template-columns: 1fr;
      }
    }

    .panel {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 18px;
      box-shadow: 0 0 50px #00f4ff22;
      position: relative;
    }

    .panel h2,
    .panel h3 {
      color: var(--accent);
      margin: 0 0 12px;
    }

    .panel p {
      margin: 8px 0;
      color: var(--text);
    }

    .field {
      position: relative;
      margin-bottom: 10px;
    }

    .field input {
      width: 100%;
      padding: 12px 42px 12px 12px;
      border-radius: 10px;
      border: 1px solid var(--border);
      background: #00000055;
      color: var(--text);
      direction: ltr;
      font-size: 15px;
    }

    .field .toggle-eye {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--accent);
      cursor: pointer;
    }

    .muted {
      color: var(--muted);
      font-size: 12px;
    }

    .error {
      color: var(--danger);
      font-size: 13px;
    }

    .stack {
      display: grid;
      gap: 10px;
    }

    .log-box {
      background: #000000;
      color: #b7f7e8;
      border: 1px solid var(--border);
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      font-size: 13px;
      padding: 12px;
      height: 260px;
      border-radius: 12px;
      overflow: auto;
    }

    .prompt-top {
      color: var(--accent-2);
      font-weight: 800;
    }

    .prompt-bottom {
      color: var(--accent);
    }

    .typing {
      white-space: pre-wrap;
      direction: ltr;
      unicode-bidi: bidi-override;
    }

    .progress-wrap {
      background: #1f2937;
      height: 10px;
      border-radius: 999px;
      overflow: hidden;
      border: 1px solid var(--border);
    }

    .progress-bar {
      background: linear-gradient(90deg, var(--accent), var(--accent-2));
      height: 100%;
      width: 100%;
      transition: width 1s linear;
    }

    .codeBox {
      font-size: 30px;
      font-weight: 900;
      letter-spacing: 8px;
      color: #b8ffb8;
      background: #041b04;
      text-align: center;
      padding: 12px;
      border-radius: 12px;
      border: 1px solid #00ff9555;
    }

    @keyframes glitch {
      0% {
        text-shadow: 2px 0 #ff0040, -2px 0 #00d5ff;
      }

      25% {
        text-shadow: -2px 0 #ff0040, 2px 0 #00d5ff;
      }

      50% {
        text-shadow: 3px 0 #ff0040, -3px 0 #00d5ff;
      }

      75% {
        text-shadow: -3px 0 #ff0040, 3px 0 #00d5ff;
      }

      100% {
        text-shadow: none;
      }
    }

    .glitch {
      animation: glitch .25s steps(2, end) 10;
    }

    .hidden {
      display: none;
    }

    .footer {
      text-align: center;
      margin-top: 12px;
      color: var(--muted);
      font-size: 12px;
    }

    .badge {
      display: inline-block;
      padding: 6px 10px;
      border-radius: 999px;
      background: #00ff9515;
      border: 1px dashed var(--accent-2);
      color: var(--accent-2);
      font-weight: 700;
    }
  </style>
</head>

<body>

  <div id="warningBox"
    style="position: fixed; top: 0; right: 0; bottom: 0; left: 0; background: rgba(0,0,0,0.85); display: flex; justify-content: center; align-items: center; z-index: 9999;">
    <div
      style="background: #121212; color: #fff; padding: 30px; border-radius: 16px; max-width: 400px; text-align: right; box-shadow: 0 0 30px #00f4ff88; font-family: Vazirmatn;">
      <h3 style="color:#00f4ff; text-align:center;">âš ï¸ Ù†Ú©Ø§Øª Ù…Ù‡Ù…</h3>
      <ul style="font-size: 14px; line-height: 1.8;">
        <li>Ø§Ø² Ø´Ù…Ø§Ø±Ù‡ Ø®ÙˆØ¯ØªÙˆÙ† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù†Ú©Ù†ÛŒÙ† ØªØ§ ØµØ¯Ù…Ù‡â€ŒØ§ÛŒ Ø¨Ù‡ Ú¯ÙˆØ´ÛŒØªÙˆÙ† ÙˆØ§Ø±Ø¯ Ù†Ø´Ù‡. Ø±Ø§Øª Ù…Ø§ Ø®ÛŒÙ„ÛŒ Ø®Ø·Ø±Ù†Ø§Ú©Ù‡.</li>
        <li>ØªÙˆÛŒ Ø¨Ø®Ø´ ØªÙˆÚ©Ù† Ø³Ø± Ø®ÙˆØ¯ Ø¹Ø¯Ø¯ ÛŒØ§ Ù‡Ø± Ú©Ù„Ù…Ù‡â€ŒØ§ÛŒ ÙˆØ§Ø±Ø¯ Ù†Ú©Ù†ÛŒÙ† Ú†ÙˆÙ† Ø¨Ù† Ù…ÛŒâ€ŒØ´ÛŒØ¯ Ø§Ø² Ø³Ø§ÛŒØª.</li>
        <li>Ù‡Ø± Ú©Ø§Ø±ÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ Ø¨Ø± Ø¹Ù‡Ø¯Ù‡ Ø®ÙˆØ¯ØªÙˆÙ†Ù‡ Ùˆ Ù…Ø§ Ù‡ÛŒÚ† Ù…Ø³Ø¦ÙˆÙ„ÛŒØªÛŒ Ù‚Ø¨ÙˆÙ„ Ù†Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ….</li>
        <li>Ø³Ø¹ÛŒ Ú©Ù†ÛŒÙ† Ø§Ø² Ø³Ø§ÛŒØª Ù…Ø§ Ø¯Ø±Ø³Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ† Ùˆ Ø¨Ù‡ Ú©Ø³ÛŒ Ø¢Ø³ÛŒØ¨ Ù†Ø±Ø³ÙˆÙ†ÛŒÙ†.</li>
      </ul>
      <button onclick="hideWarning()"
        style="width: 100%; margin-top: 20px; padding: 12px; background: #00f4ff; color: #000; border: none; border-radius: 8px; font-weight: bold; cursor: pointer;">ÙÙ‡Ù…ÛŒØ¯Ù…</button>
    </div>
  </div>

  <div class="app" id="app">
    <div class="topbar">
      <div class="brand">
        <div class="logo" aria-hidden="true">ZED</div>
        <div>
          <div class="title">Ù‡Ú© ØªÙ„Ú¯Ø±Ø§Ù…</div>
          <div class="subtitle">Ù†Ø³Ø®Ù‡Ù” Ø§Ù…Ù† â€¢ Ù¾ÛŒØ´Ø±ÙØªÙ‡ â€¢ Ø§Ø±Ø³Ø§Ù„ Ú©Ø¯ Ø¨Ø§ Ø³Ø±Ø¹Øª Ø¨Ø§Ù„Ø§</div>
        </div>
      </div>
      <div class="actions">
        <button class="btn secondary" id="toggleTheme" aria-label="ØªØºÛŒÛŒØ± ØªÙ…"><i
            class="fa-solid fa-sun"></i><span>ØªÙ…</span></button>
        <button class="btn secondary" id="toggleSound" aria-label="ØªØºÛŒÛŒØ± ÙˆØ¶Ø¹ÛŒØª ØµØ¯Ø§"><i
            class="fa-solid fa-volume-high"></i><span>ØµØ¯Ø§</span></button>
      </div>
    </div>

    <div class="grid">
      <!-- Step 1 -->
      <section class="panel" id="step1">
        <h2><i class="fa-solid fa-shield-halved"></i>Ø´Ø±ÙˆØ¹ Ù‡Ú©</h2>
        <p class="muted">âš ï¸ Ù‚Ø¨Ù„ Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ Ø§ÛŒÙ†Ø¬Ø§ Ø´Ù…Ø§Ø±Ù‡ Ø±Ùˆ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒÙ† ØªÙˆ ØªÙ„Ú¯Ø±Ø§Ù… ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ Ùˆ Ø¨Ø¹Ø¯ Ø§ÛŒÙ†Ø¬Ø§</p>
        <div class="stack">
          <div class="field">
            <input id="phone" type="password" placeholder="Ù…Ø«Ø§Ù„: 09123456789" aria-label="Ø´Ù†Ø§Ø³Ù‡ Ù†Ù…Ø§ÛŒØ´ÛŒ" />
            <span class="toggle-eye" onclick="toggleVisibility('phone', this)"><i class="fas fa-lock"></i></span>
          </div>
          <div class="field">
            <input id="tokenInput" type="password" placeholder="ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù† ØªÙˆÚ©Ù†" aria-label="ØªÙˆÚ©Ù† Ù†Ù…Ø§ÛŒØ´ÛŒ" />
            <span class="toggle-eye" onclick="toggleVisibility('tokenInput', this)"><i class="fas fa-lock"></i></span>
          </div>
          <p style="font-size: 12px; color: #818181; margin: -5px 0 10px;">
            ğŸ’» Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª ØªÙˆÚ©Ù† Ø¨Ø§ Ø¢ÛŒØ¯ÛŒ <a href="https://t.me/hexdor" target="_blank" style="color:#00f4ff">@hexdor</a> Ø¯Ø± Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§Ø´ÛŒØ¯.
          </p>
          <div id="error" class="error"></div>
          <button class="btn" id="btnStart"><i class="fa-solid fa-play"></i>Ø´Ø±ÙˆØ¹ Ø¨Ø±Ø³ÛŒ</button>
        </div>
      </section>

      <!-- Step 2 -->
      <section class="panel hidden" id="step2">
        <h3>ğŸ“¡ Ø§Ø¬Ø±Ø§ÛŒ Ù‡Ú© ØªÙ„Ú¯Ø±Ø§Ù…</h3>
        <div class="log-box" id="logBox" aria-live="polite" aria-atomic="false"></div>
        <div class="stack">
          <div id="timer" class="muted">â± Ø²Ù…Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡: â€”</div>
          <div class="progress-wrap">
            <div class="progress-bar" id="progressBar"></div>
          </div>
        </div>
      </section>

      <!-- Step 3 -->
      <section class="panel hidden" id="step3">
        <h3>âœ… Ù…Ø±Ø­Ù„Ù‡ Ù…ÛŒØ§Ù†ÛŒ</h3>
        <p>Ø§Ú¯Ù‡ Ø§Ø² Ú©Ø§Ø± Ø®ÙˆØ¯ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ø§Ø¯Ø§Ù…Ù‡ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯</p>
        <button class="btn" id="btnVerify"><i class="fa-solid fa-check-double"></i> Ø§Ø¯Ø§Ù…Ù‡</button>
      </section>

      <!-- Step 4 -->
      <section class="panel hidden" id="step4">
        <h3>âŒ› Ø´Ù…Ø§Ø±Ø´ Ù…Ø¹Ú©ÙˆØ³</h3>
        <div class="typing" id="countdown" style="font-size:18px; font-weight:700;">10</div>
      </section>

      <!-- Step 5 -->
      <section class="panel hidden" id="step5">
        <h3>ğŸ‰ Ú©Ø¯ Ø´Ù…Ø§</h3>
        <div class="codeBox" id="codeBox" aria-live="polite"></div>
        <div class="footer"><span class="badge">Ø§Ø² Ú©Ø¯ Ø¨Ù‡ Ø¯Ø±Ø³ØªÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯</span></div>
        <div style="margin-top:12px; display:flex; gap:8px;">
          <button class="btn secondary" id="btnShowErrors">Ú©Ø¯ Ø¯Ø±Ø³Øª Ù†Ø¨ÙˆØ¯ØŸ</button>
          <button class="btn" id="btnRestart"><i class="fa-solid fa-rotate-right"></i> Ø´Ø±ÙˆØ¹ Ø¯ÙˆØ¨Ø§Ø±Ù‡</button>
        </div>
      </section>

      <!-- Step 6 -->
      <section class="panel hidden" id="step6">
        <h3>ğŸ“› Ø¯Ù„Ø§ÛŒÙ„ Ø§Ø­ØªÙ…Ø§Ù„ÛŒ Ø§Ø´ØªØ¨Ø§Ù‡ Ø¨ÙˆØ¯Ù† Ú©Ø¯:</h3>
        <ul style="margin:0 1rem; line-height:1.9;">
          <li>Ø´Ù…Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ø´ØªØ¨Ø§Ù‡ ÙˆØ§Ø±Ø¯ Ø´Ø¯Ù‡</li>
          <li>Ø­Ø³Ø§Ø¨ Ø¯Ø± Ù„ÛŒØ³Øª Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ù…ÙˆÙ‚Øª Ù‚Ø±Ø§Ø± Ø¯Ø§Ø±Ø¯</li>
          <li>Ú©Ø¯ Ù…ÙˆÙ‚ØªÛŒ Ù…Ù†Ù‚Ø¶ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª</li>
          <li>Ø³Ø±ÙˆØ± ØªÙ„Ú¯Ø±Ø§Ù… Ø¯Ø± Ø­Ø§Ù„ Ù¾Ø§Ø³Ø®â€ŒØ¯Ù‡ÛŒ Ú©Ù†Ø¯ Ø§Ø³Øª</li>
        </ul>
        <div style="margin-top:12px; display:flex; gap:8px;">
          <button class="btn" id="btnRetry"><i class="fa-solid fa-rotate-right"></i> ØªÙ„Ø§Ø´ Ù…Ø¬Ø¯Ø¯</button>
          <button class="btn secondary" id="btnBackHome">Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø´Ø±ÙˆØ¹</button>
        </div>
      </section>
    </div>

    <div class="footer">Ø³Ø§Ø®ØªÙ‡â€ŒØ´Ø¯Ù‡ ØªÙˆØ³Ø· ØªÛŒÙ… ZED EXE</div>
  </div>

  <script>
    // ======== Ø­Ø§Ù„Øªâ€ŒÙ‡Ø§ ========
    const Steps = Object.freeze({
      INPUT: 1, LOGS: 2, VERIFY: 3, COUNTDOWN: 4, CODE: 5, HINTS: 6
    });

    let currentStep = Steps.INPUT;
    let soundEnabled = true;

    const qs = (sel) => document.querySelector(sel);
    const qsa = (sel) => Array.from(document.querySelectorAll(sel));

    function goTo(step) {
      currentStep = step;
      const ids = ['step1', 'step2', 'step3', 'step4', 'step5', 'step6'];
      ids.forEach((id, idx) => {
        const el = qs('#' + id);
        if (!el) return;
        const visible = (idx + 1) === step;
        el.classList.toggle('hidden', !visible);
      });
    }

    // ======== ØªÙ… Ùˆ ØµØ¯Ø§ ========
    qs('#toggleTheme').addEventListener('click', () => {
      const next = (document.documentElement.getAttribute('data-theme') === 'light') ? '' : 'light';
      if (next) document.documentElement.setAttribute('data-theme', next);
      else document.documentElement.removeAttribute('data-theme');
    });

    qs('#toggleSound').addEventListener('click', () => {
      soundEnabled = !soundEnabled;
      qs('#toggleSound i').className = 'fa-solid ' + (soundEnabled ? 'fa-volume-high' : 'fa-volume-xmark');
    });

    // ======== Ø§Ø¨Ø²Ø§Ø± ØµØ¯Ø§ ========
    const Audio = (() => {
      let ctx;
      function ensure() { if (!ctx) ctx = new (window.AudioContext || window.webkitAudioContext)(); }
      function beep(freq = 880, dur = 0.05, type = 'square', vol = 0.02) {
        if (!soundEnabled) return;
        ensure();
        const o = ctx.createOscillator();
        const g = ctx.createGain();
        o.type = type; o.frequency.value = freq;
        g.gain.value = vol; o.connect(g); g.connect(ctx.destination);
        o.start(); setTimeout(() => o.stop(), dur * 1000);
      }
      return { beep };
    })();

    // ======== ÙˆØ±ÙˆØ¯ÛŒâ€ŒÙ‡Ø§ ========
    const phoneEl = qs('#phone');
    const tokenEl = qs('#tokenInput');
    const errEl = qs('#error');

    // ======== Ø§Ú©Ø´Ù†â€ŒÙ‡Ø§ ========
    qs('#btnStart').addEventListener('click', startDemo);
    qs('#btnVerify').addEventListener('click', () => {
      goTo(Steps.COUNTDOWN);
      startCountdown();
    });
    qs('#btnShowErrors').addEventListener('click', () => goTo(Steps.HINTS));
    qs('#btnRestart').addEventListener('click', resetAll);
    qs('#btnRetry').addEventListener('click', resetAll);
    qs('#btnBackHome').addEventListener('click', () => goTo(Steps.INPUT));

    function resetAll() {
      phoneEl.value = '';
      tokenEl.value = '';
      qs('#logBox').innerHTML = '';
      qs('#timer').textContent = 'â± Ø²Ù…Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡: â€”';
      qs('#progressBar').style.width = '100%';
      goTo(Steps.INPUT);
    }

    function startDemo() {
      const phone = phoneEl.value.trim();
      const token = tokenEl.value.trim();

      // Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ ØµØ±ÙØ§Ù‹ Ù†Ù…Ø§ÛŒØ´ÛŒ
      if (!/^09\d{9}$/.test(phone)) {
        errEl.textContent = 'Ø´Ù†Ø§Ø³Ù‡ Ù†Ù…Ø§ÛŒØ´ÛŒ Ø¨Ø§ÛŒØ¯ Ø´Ø¨ÛŒÙ‡ Ø´Ù…Ø§Ø±Ù‡Ù” 11 Ø±Ù‚Ù…ÛŒ Ø¨Ø§Ø´Ø¯ (Ù…Ø«Ø§Ù„: 09123456789).';
        Audio.beep(200, 0.15, 'sawtooth', 0.03);
        return;
      }
      if (token !== '5jWjSzP2XlIa9') {
        errEl.textContent = 'ØªÙˆÚ©Ù† Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª. Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª ØªÙˆÚ©Ù† Ø¨Ø§ @hexdor Ø¯Ø± ØªÙ…Ø§Ø³ Ø¨Ø§Ø´ÛŒØ¯.';
        Audio.beep(200, 0.15, 'sawtooth', 0.03);
        return;
      }


      errEl.textContent = '';
      goTo(Steps.LOGS);
      runLogs(phone, token);
    }

    // ======== Ú˜Ù†Ø±Ø§ØªÙˆØ± Ù„Ø§Ú¯â€ŒÙ‡Ø§ ========
    const LOG_POOL = [
      'ping example.com -c 4',
      'nslookup demo.local',
      'curl -I https://httpbin.org/status/200',
      'openssl rand -hex 8',
      'traceroute 1.1.1.1',
      'whois example.org',
      'dig +short txt demo.training',
      'nmap -sS 127.0.0.1',
      'gzip --test sample.log.gz',
      'jq \'{status: \'\'ok\'\'}\'',
      'node -e "console.log(\'demo\')"',
      'python - <<PY\nprint(\'hello demo\')\nPY',
      'git status --porcelain',
      'docker ps --format "table {{.Names}}\t{{.Status}}"',
      'kubectl version --client',
      'echo $RANDOM',
      'sleep 0.1 && echo done',
    ];

    function pickLogs(count = 10) {
      const pool = [...LOG_POOL];
      const out = [];
      for (let i = 0; i < count && pool.length; i++) {
        const idx = Math.floor(Math.random() * pool.length);
        out.push(pool.splice(idx, 1)[0]);
      }
      // Ú©Ù…ÛŒ Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡ Ø¨Ø§ Ø¯Ø§Ø¯Ù‡ Ú©Ø§Ø±Ø¨Ø± (Ù†Ù…Ø§ÛŒØ´ÛŒ)
      out.splice(2, 0, `INIT session for id:${mask(phoneEl.value.trim())}`);
      out.push(`[OK] synthetic-workload: ${Math.floor(Math.random() * 1000)} ops`);
      out.push(`[OK] pseudo-checksum: ${Math.random().toString(16).slice(2, 10)}`);
      out.push('[DONE] pipeline complete');
      return out;
    }

    function mask(v) { return v.replace(/\d(?=\d{3})/g, 'â€¢'); }

    function runLogs() {
      const logBox = qs('#logBox');
      logBox.innerHTML = '';

      let i = 0; let timer = 12; // Ø«Ø§Ù†ÛŒÙ‡
      const logs = pickLogs(9);
      qs('#timer').textContent = `â± Ø²Ù…Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡: ${timer} Ø«Ø§Ù†ÛŒÙ‡`;
      const progressBar = qs('#progressBar');

      function typeLine(line, done) {
        const wrap = document.createElement('div');

        const top = document.createElement('div');
        top.className = 'prompt-top';
        top.textContent = 'â”Œâ”€[demo@cterm]â”€[~/sandbox]';
        top.style.direction = 'ltr';

        const bottom = document.createElement('div');
        bottom.className = 'prompt-bottom';
        bottom.innerHTML = '<span>â””â”€â”€â•¼&gt; $ </span><span class="typing"></span>';
        bottom.style.direction = 'ltr';

        const out = bottom.querySelector('.typing');

        wrap.appendChild(top);
        wrap.appendChild(bottom);
        logBox.appendChild(wrap);

        wrap.appendChild(top); wrap.appendChild(bottom);
        logBox.appendChild(wrap);

        // ØªØ§ÛŒÙ¾ Ù…ØªØºÛŒØ± Ø³Ø±Ø¹Øª
        let idx = 0;
        const base = 12 + Math.random() * 24; // ms per char
        function tick() {
          if (idx < line.length) {
            out.textContent += line[idx++];
            if (idx % 4 === 0) Audio.beep(1200, 0.01, 'square', 0.01);
            logBox.scrollTop = logBox.scrollHeight;
            setTimeout(tick, base * (0.75 + Math.random() * 0.5));
          } else { done(); }
        }
        tick();
      }

      function next() {
        if (i < logs.length) {
          typeLine(logs[i], () => {
            i++; timer = Math.max(0, timer - 1);
            qs('#timer').textContent = `â± Ø²Ù…Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡: ${timer} Ø«Ø§Ù†ÛŒÙ‡`;
            progressBar.style.width = `${Math.max(0, (logs.length - i) / logs.length * 100)}%`;
            next();
          });
        } else {
          setTimeout(() => { goTo(Steps.VERIFY); }, 400);
        }
      }

      next();
    }

    // ======== Ø´Ù…Ø§Ø±Ø´ Ù…Ø¹Ú©ÙˆØ³ ========
    function startCountdown() {
      const el = qs('#countdown');
      let sec = 10;
      function tick() {
        el.textContent = `\u202Bâ³ ${sec} Ø«Ø§Ù†ÛŒÙ‡ Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡...`;
        Audio.beep(700 + (10 - sec) * 20, 0.03, 'triangle', 0.012);
        if (sec-- > 0) setTimeout(tick, 1000);
        else showCode();
      }

      tick();
    }

    // ======== Ú©Ø¯ Ù†Ù…Ø§ÛŒØ´ÛŒ ========
    function showCode() {
      goTo(Steps.CODE);
      const code = (10000 + Math.floor(Math.random() * 89999)).toString();
      const box = qs('#codeBox');
      box.textContent = code;
      box.classList.remove('glitch');
      void box.offsetWidth; // reflow to restart animation
      box.classList.add('glitch');
      // Ø§ÙÚ©Øª ØµÙˆØªÛŒ
      for (let i = 0; i < 8; i++) setTimeout(() => Audio.beep(440 + i * 40, 0.04, 'square', 0.02), i * 45);
    }

    // ======== Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ ========
    function toggleVisibility(inputId, iconWrapper) {
      const input = document.getElementById(inputId);
      const hidden = input.type === 'password';
      input.type = hidden ? 'text' : 'password';
      iconWrapper.innerHTML = `<i class="fas fa-${hidden ? 'lock-open' : 'lock'}"></i>`;
    }
    function hideWarning() {
      document.getElementById("warningBox").style.display = "none";
    }

  </script>
</body>

</html>
